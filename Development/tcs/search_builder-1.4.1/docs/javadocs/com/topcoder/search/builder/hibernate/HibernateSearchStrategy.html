<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_18) on Thu Apr 30 02:00:36 CST 2009 -->
<TITLE>
HibernateSearchStrategy (Topcoder Software)
</TITLE>

<META NAME="keywords" CONTENT="com.topcoder.search.builder.hibernate.HibernateSearchStrategy class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="HibernateSearchStrategy (Topcoder Software)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<table border=0 cellpadding=0 cellspacing=2><tr><td><font class=tcoder2>[ </font><font class=tcoder1>TOP</font><font class=tcoder2>CODER </font><font class=tcoder2>]</font></td><td><font class=tcoder4>?</font></td></tr><tr><td class=tcoder3 align=center><font class=tcoder3>SOFTWARE</font></td></tr></table></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/topcoder/search/builder/hibernate/EqualsFragmentBuilder.html" title="class in com.topcoder.search.builder.hibernate"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/topcoder/search/builder/hibernate/InFragmentBuilder.html" title="class in com.topcoder.search.builder.hibernate"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="HibernateSearchStrategy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.topcoder.search.builder.hibernate</FONT>
<BR>
Class HibernateSearchStrategy</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by"><B>com.topcoder.search.builder.hibernate.HibernateSearchStrategy</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../com/topcoder/search/builder/SearchStrategy.html" title="interface in com.topcoder.search.builder">SearchStrategy</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>HibernateSearchStrategy</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../com/topcoder/search/builder/SearchStrategy.html" title="interface in com.topcoder.search.builder">SearchStrategy</A></DL>

<P>
<p>
 This is a Search Strategy that is tuned for searching a database via Hibernate's HQL.
 </p>
 <p>
 It is responsible for building the necessary HQL search string appropriate to the
 filters provided and executing the HQL against the database using a Session. This is
 done with the help of the <code>SearchFragmentBuilder</code> implementations that are
 provided in this package. Each <code>SearchFragmentBuilder</code> is responsible for
 building the HQL for a specific filter, and a ClassAssociator is used to associate the
 FragmentBuilders with the filters (making the filter - Fragment mapping easier).
 </p>
 <p>
 A Query instance is used, and the search parameters are bound to the Query after the
 entire HQL String has been generated.
 </p>
 <p>
 <b>Sample code:</b>

 <pre>
 HibernateSearchStrategy hss = new HibernateSearchStrategy(&quot;namespace&quot;);
 Map aliasMap = new HashMap();
 aliasMap.put(&quot;The age&quot;, &quot;p.age&quot;);
 aliasMap.put(&quot;The company name&quot;, &quot;c.name&quot;);
 hss.search(&quot;FROM Person as p join p.company as c WHERE&quot;, new EqualToFilter(
                 &quot;The age&quot;, new Integer(23)), new ArrayList(), aliasMap);
 </pre>

 <b>Sample config:</b>

 <pre>
      &lt;CMConfig&gt; &lt;Config name=&quot;HibernateSearchStrategy&quot;&gt;
     &lt;!-- Property for defining the path of file from which Hibernate is configured. --&gt;
     &lt;Property name=&quot;hibernateConfigFilePath&quot;&gt;
     &lt;Value&gt;sampleHibernateConfig.cfg.xml&lt;/Value&gt;
     &lt;/Property&gt; &lt;Property name=&quot;searchFragmentFactoryNamespace&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.factory&lt;/Value&gt;
     &lt;/Property&gt;
     &lt;!-- Property for defining the mapping of Filter to corresponding FragmentBuilder --&gt;
     &lt;Property name=&quot;searchFragmentBuilders&quot;&gt;
     &lt;Property name=&quot;first&quot;&gt; &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.AndFilter&lt;/Value&gt;&lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value &gt;com.topcoder.search.builder.hibernate.AndFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt; &lt;/Property&gt; &lt;Property name=&quot;second&quot;&gt;
     &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.OrFilter&lt;/Value&gt;
     &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.OrFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt;
     &lt;/Property&gt;
     &lt;Property name=&quot;third&quot;&gt;
     &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.LikeFilter&lt;/Value&gt;
     &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.LikeFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt; &lt;/Property&gt; &lt;Property name=&quot;fourth&quot;&gt;
     &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.NotFilter&lt;/Value&gt;
     &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.NotFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt; &lt;/Property&gt; &lt;Property name=&quot;fifth&quot;&gt;
     &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.EqualToFilter&lt;/Value&gt;
     &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.EqualsFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt; &lt;/Property&gt; &lt;Property name=&quot;sixth&quot;&gt;
     &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.InFilter&lt;/Value&gt;
     &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.InFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt; &lt;/Property&gt;
     &lt;Property name=&quot;eighth&quot;&gt;
     &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.NullFilter&lt;/Value&gt;
     &lt;/Property&gt; &lt;Property
     name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.NullFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt; &lt;/Property&gt; &lt;Property name=&quot;ninth&quot;&gt;
     &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.GreaterThanFilter&lt;/Value&gt; &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.RangeFragmentBuilder&lt;/Value&gt; &lt;/Property&gt;
     &lt;/Property&gt; &lt;Property name=&quot;tenth&quot;&gt; &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.GreaterThanOrEqualToFilter&lt;/Value&gt;
     &lt;/Property&gt; &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.RangeFragmentBuilder&lt;/Value&gt; &lt;/Property&gt;
     &lt;/Property&gt; &lt;Property name=&quot;eleventh&quot;&gt; &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.BetweenFilter&lt;/Value&gt; &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.RangeFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt; &lt;/Property&gt; &lt;Property name=&quot;twelfth&quot;&gt;
     &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.LessThanOrEqualToFilter&lt;/Value&gt; &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.RangeFragmentBuilder&lt;/Value&gt; &lt;/Property&gt;
     &lt;/Property&gt; &lt;Property name=&quot;thirteenth&quot;&gt; &lt;Property name=&quot;targetFilter&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.filter.LessThanFilter&lt;/Value&gt; &lt;/Property&gt;
     &lt;Property name=&quot;className&quot;&gt;
     &lt;Value&gt;com.topcoder.search.builder.hibernate.RangeFragmentBuilder&lt;/Value&gt;
     &lt;/Property&gt; &lt;/Property&gt; &lt;/Property&gt;
     &lt;/Config&gt;
     &lt;Config name=&quot;com.topcoder.search.builder.hibernate.factory&quot;&gt;
     &lt;/Config&gt;
     &lt;/CMConfig&gt;
 </pre>

 </p>
 <p>
 Thread Safety: This class is thread safe. The state is maintained in a separate
 SearchContext class, allowing concurrent calls to be supported. The search method
 synchronizes on the session (obtained from Sessionfactory) to provide for thread
 safety.
 </p>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>1.4</DD>
<DT><B>Version:</B></DT>
  <DD>1.4</DD>
<DT><B>Author:</B></DT>
  <DD>kurtrips, myxgyy</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/topcoder/search/builder/hibernate/HibernateSearchStrategy.html#HibernateSearchStrategy()">HibernateSearchStrategy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new <code>HibernateSearchStrategy</code> using the default namespace.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/topcoder/search/builder/hibernate/HibernateSearchStrategy.html#HibernateSearchStrategy(org.hibernate.SessionFactory, com.topcoder.util.classassociations.ClassAssociator)">HibernateSearchStrategy</A></B>(org.hibernate.SessionFactory&nbsp;sessionFactory,
                        com.topcoder.util.classassociations.ClassAssociator&nbsp;fragmentBuilders)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialization constructor for this class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/topcoder/search/builder/hibernate/HibernateSearchStrategy.html#HibernateSearchStrategy(java.lang.String)">HibernateSearchStrategy</A></B>(java.lang.String&nbsp;namespace)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the <code>HibernateSearchStrategy</code> from the given namespace.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/topcoder/search/builder/hibernate/HibernateSearchStrategy.html#HibernateSearchStrategy(java.lang.String, com.topcoder.util.classassociations.ClassAssociator)">HibernateSearchStrategy</A></B>(java.lang.String&nbsp;sessionFactoryJndiName,
                        com.topcoder.util.classassociations.ClassAssociator&nbsp;fragmentBuilders)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialization constructor for this class.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../com/topcoder/search/builder/SearchContext.html" title="class in com.topcoder.search.builder">SearchContext</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/topcoder/search/builder/hibernate/HibernateSearchStrategy.html#buildSearchContext(java.lang.String, com.topcoder.search.builder.filter.Filter, java.util.List, java.util.Map)">buildSearchContext</A></B>(java.lang.String&nbsp;context,
                   <A HREF="../../../../../com/topcoder/search/builder/filter/Filter.html" title="interface in com.topcoder.search.builder.filter">Filter</A>&nbsp;filter,
                   java.util.List&nbsp;returnFields,
                   java.util.Map&nbsp;aliasMap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a protected method that can be used to build the SearchContext for the
 search.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/topcoder/search/builder/hibernate/HibernateSearchStrategy.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the destructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.hibernate.SessionFactory</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/topcoder/search/builder/hibernate/HibernateSearchStrategy.html#getSessionFactory()">getSessionFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the sessionFactory variable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/topcoder/search/builder/hibernate/HibernateSearchStrategy.html#search(java.lang.String, com.topcoder.search.builder.filter.Filter, java.util.List, java.util.Map)">search</A></B>(java.lang.String&nbsp;context,
       <A HREF="../../../../../com/topcoder/search/builder/filter/Filter.html" title="interface in com.topcoder.search.builder.filter">Filter</A>&nbsp;filter,
       java.util.List&nbsp;returnFields,
       java.util.Map&nbsp;aliasMap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Searches the underlying persistence using Hibernate with the provided context,
 filter and constraints the returnFields.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="HibernateSearchStrategy()"><!-- --></A><H3>
HibernateSearchStrategy</H3>
<PRE>
public <B>HibernateSearchStrategy</B>()
                        throws <A HREF="../../../../../com/topcoder/search/builder/SearchBuilderConfigurationException.html" title="class in com.topcoder.search.builder">SearchBuilderConfigurationException</A></PRE>
<DL>
<DD>Creates a new <code>HibernateSearchStrategy</code> using the default namespace.
<P>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/topcoder/search/builder/SearchBuilderConfigurationException.html" title="class in com.topcoder.search.builder">SearchBuilderConfigurationException</A></CODE> - if a configuration property that is required is not found, or if a
             configuration property does not make sense.</DL>
<HR>

<A NAME="HibernateSearchStrategy(java.lang.String)"><!-- --></A><H3>
HibernateSearchStrategy</H3>
<PRE>
public <B>HibernateSearchStrategy</B>(java.lang.String&nbsp;namespace)
                        throws <A HREF="../../../../../com/topcoder/search/builder/SearchBuilderConfigurationException.html" title="class in com.topcoder.search.builder">SearchBuilderConfigurationException</A></PRE>
<DL>
<DD>Creates the <code>HibernateSearchStrategy</code> from the given namespace.
<P>
<DT><B>Parameters:</B><DD><CODE>namespace</CODE> - The namespace in configuration from which to create the
            HibernateSearchStrategy.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If nameSpace is null or empty.
<DD><CODE><A HREF="../../../../../com/topcoder/search/builder/SearchBuilderConfigurationException.html" title="class in com.topcoder.search.builder">SearchBuilderConfigurationException</A></CODE> - if a configuration property that is required is not found, or if a
             configuration property does not make sense.</DL>
<HR>

<A NAME="HibernateSearchStrategy(org.hibernate.SessionFactory, com.topcoder.util.classassociations.ClassAssociator)"><!-- --></A><H3>
HibernateSearchStrategy</H3>
<PRE>
public <B>HibernateSearchStrategy</B>(org.hibernate.SessionFactory&nbsp;sessionFactory,
                               com.topcoder.util.classassociations.ClassAssociator&nbsp;fragmentBuilders)</PRE>
<DL>
<DD>Initialization constructor for this class.
<P>
<DT><B>Parameters:</B><DD><CODE>fragmentBuilders</CODE> - The ClassAssociator to use for this class.<DD><CODE>sessionFactory</CODE> - The sessionFactory to set for this class.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If either parameter is null.</DL>
<HR>

<A NAME="HibernateSearchStrategy(java.lang.String, com.topcoder.util.classassociations.ClassAssociator)"><!-- --></A><H3>
HibernateSearchStrategy</H3>
<PRE>
public <B>HibernateSearchStrategy</B>(java.lang.String&nbsp;sessionFactoryJndiName,
                               com.topcoder.util.classassociations.ClassAssociator&nbsp;fragmentBuilders)
                        throws <A HREF="../../../../../com/topcoder/search/builder/SearchBuilderConfigurationException.html" title="class in com.topcoder.search.builder">SearchBuilderConfigurationException</A></PRE>
<DL>
<DD>Initialization constructor for this class.
<P>
<DT><B>Parameters:</B><DD><CODE>fragmentBuilders</CODE> - The ClassAssociator to use for this class.<DD><CODE>sessionFactoryJndiName</CODE> - The JNDI lookup name for the SessionFactory to set for this class.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/topcoder/search/builder/SearchBuilderConfigurationException.html" title="class in com.topcoder.search.builder">SearchBuilderConfigurationException</A></CODE> - if a SessionFactory is not configured under JNDI for the given.
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If either parameter is null.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="search(java.lang.String, com.topcoder.search.builder.filter.Filter, java.util.List, java.util.Map)"><!-- --></A><H3>
search</H3>
<PRE>
public java.lang.Object <B>search</B>(java.lang.String&nbsp;context,
                               <A HREF="../../../../../com/topcoder/search/builder/filter/Filter.html" title="interface in com.topcoder.search.builder.filter">Filter</A>&nbsp;filter,
                               java.util.List&nbsp;returnFields,
                               java.util.Map&nbsp;aliasMap)
                        throws <A HREF="../../../../../com/topcoder/search/builder/UnrecognizedFilterException.html" title="class in com.topcoder.search.builder">UnrecognizedFilterException</A>,
                               <A HREF="../../../../../com/topcoder/search/builder/PersistenceOperationException.html" title="class in com.topcoder.search.builder">PersistenceOperationException</A></PRE>
<DL>
<DD>Searches the underlying persistence using Hibernate with the provided context,
 filter and constraints the returnFields.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/topcoder/search/builder/SearchStrategy.html#search(java.lang.String, com.topcoder.search.builder.filter.Filter, java.util.List, java.util.Map)">search</A></CODE> in interface <CODE><A HREF="../../../../../com/topcoder/search/builder/SearchStrategy.html" title="interface in com.topcoder.search.builder">SearchStrategy</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - The search context. This would be an HQL statement for ex. "from Cat" or
            "select name, age from Cat" Note that Cat here is actually a name of OR
            mapped class. Hibernate is responsible for finding the underlying
            persistence table. Similarly name, age are properties of the Cat class.
            Hibernate is responsible for finding the underlying persistence columns.<DD><CODE>filter</CODE> - The filter to use. This is typically used for providing the WHERE clause
            of the resultant query. An example could be an Equals filter with name =
            'age' and value = 10. Again, age is property of class Cat, not a
            database column. Another example could be an Equals filter with name =
            'cat.mother.name' and value = 'Momma'. Here mother is a property of Cat
            class with type as Cat and we are trying to find all cats such that
            their mother's name is Mommy.<DD><CODE>returnFields</CODE> - The set of properties to return. This will be used only if it is a
            SELECT query. In case of a FROM query, this list is ignored.<DD><CODE>aliasMap</CODE> - a map of strings, holding the alternate names of properties as keys and
            their actual property names as the respective values. Exceptions:
<DT><B>Returns:</B><DD>If it is a FROM hibernate query, then returns a List of objects. If it is a
         SELECT hibernate query, then returns a List of multiple objects and/or
         properties as an array of type Object[]. Basically this is a list of object
         arrays.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/topcoder/search/builder/UnrecognizedFilterException.html" title="class in com.topcoder.search.builder">UnrecognizedFilterException</A></CODE> - propagated from SearchFragmentBuilder.
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if context or filter is null or if context is an empty String or if
             returnFields contains null/non-String contents or aliasMap contains
             null/empty String arguments.
<DD><CODE><A HREF="../../../../../com/topcoder/search/builder/PersistenceOperationException.html" title="class in com.topcoder.search.builder">PersistenceOperationException</A></CODE> - to wrap any exception thrown by Hibernate.</DL>
</DD>
</DL>
<HR>

<A NAME="buildSearchContext(java.lang.String, com.topcoder.search.builder.filter.Filter, java.util.List, java.util.Map)"><!-- --></A><H3>
buildSearchContext</H3>
<PRE>
protected <A HREF="../../../../../com/topcoder/search/builder/SearchContext.html" title="class in com.topcoder.search.builder">SearchContext</A> <B>buildSearchContext</B>(java.lang.String&nbsp;context,
                                           <A HREF="../../../../../com/topcoder/search/builder/filter/Filter.html" title="interface in com.topcoder.search.builder.filter">Filter</A>&nbsp;filter,
                                           java.util.List&nbsp;returnFields,
                                           java.util.Map&nbsp;aliasMap)
                                    throws <A HREF="../../../../../com/topcoder/search/builder/UnrecognizedFilterException.html" title="class in com.topcoder.search.builder">UnrecognizedFilterException</A></PRE>
<DL>
<DD>This is a protected method that can be used to build the SearchContext for the
 search. It may be overridden by subclasses to provide additional or different
 methods of building up the search context. In this Strategy, the SearchContext is
 used to hold the state of processing the Filters. The search String is built
 separately from the binding parameters.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - The search context. This would be an HQL statement, for ex. "from Cat"
            or "select name, age from Cat" Note that Cat here is actually a name of
            OR mapped class. Hibernate is responsible for finding the underlying
            persistence table. Similarly name, age are properties of the Cat class.
            Hibernate is responsible for finding the underlying persistence columns.<DD><CODE>filter</CODE> - The filter to use. This is typically used for providing the WHERE clause
            of the resultant query. An example could be an Equals filter with name =
            'age' and value = 10. Again, age is property of class Cat, not a
            database column. Another example could be an Equals filter with name =
            'cat.mother.name' and value = 'Momma'. Here mother is a property of Cat
            class with type as Cat and we are trying to find all cats such that
            their mother's name is Momma.<DD><CODE>returnFields</CODE> - The set of properties to return. This will be used only if it is a
            SELECT query. In case of a FROM query, this list is ignored.<DD><CODE>aliasMap</CODE> - a map of strings, holding the alternate names of properties as keys and
            their actual property names as the respective values. Exceptions:
<DT><B>Returns:</B><DD>A SearchContext object that is used to hold the state of building the
         search.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/topcoder/search/builder/UnrecognizedFilterException.html" title="class in com.topcoder.search.builder">UnrecognizedFilterException</A></CODE> - Propagated from SearchFragmentBuilder.
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If context is invalid HQL string. An HQL is considered invalid if it
             does not start with "SELECT" or "FROM". If it starts with "SELECT" it
             must also contain a "FROM".</DL>
</DD>
</DL>
<HR>

<A NAME="getSessionFactory()"><!-- --></A><H3>
getSessionFactory</H3>
<PRE>
protected org.hibernate.SessionFactory <B>getSessionFactory</B>()</PRE>
<DL>
<DD>Return the sessionFactory variable.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the sessionFactory variable.</DL>
</DD>
</DL>
<HR>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
protected void <B>finalize</B>()</PRE>
<DL>
<DD>This is the destructor. It is used for disposing off the sessionFactory that was
 created during the constructor. However if an external sessionFactory was used in
 the constructor, then we do not close the sessionFactory because it may be used
 outside this component.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<table border=0 cellpadding=0 cellspacing=2><tr><td><font class=tcoder2>[ </font><font class=tcoder1>TOP</font><font class=tcoder2>CODER </font><font class=tcoder2>]</font></td><td><font class=tcoder4>?</font></td></tr><tr><td class=tcoder3 align=center><font class=tcoder3>SOFTWARE</font></td></tr></table></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/topcoder/search/builder/hibernate/EqualsFragmentBuilder.html" title="class in com.topcoder.search.builder.hibernate"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/topcoder/search/builder/hibernate/InFragmentBuilder.html" title="class in com.topcoder.search.builder.hibernate"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="HibernateSearchStrategy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<font class=tcoder5>Contact TopCoder Software at <a href='http://software.topcoder.com'>software.topcoder.com</a></font>
</BODY>
</HTML>
